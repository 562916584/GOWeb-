{{template "header"}}
<title>修改文章 -  我的博客</title>
</head>
<body>
{{template "navbar".}}
<div class="container">
    <h1>修改文章</h1>
    <form action="/topic" method="post" enctype="multipart/form-data">
        <input type="hidden" name="tid" value="{{.tid}}">
        <div class="form-group">
            <label>文章标题: </label>
            <input type="text" name="title" class="form-control" id="title" value="{{.topic.Title}}">
        </div>
        <div class="form-group">
            <label>文章分类：</label>
            <input type="text" name="category" class="form-control" id="category" value="{{.topic.Category}}">
        </div>
        <div class="form-group">
            <label>文章标签：</label>
            <input type="text" name="lable" class="form-control" id="lable" value="{{.topic.Lables}}">
        </div>
        <div class="form-group">
            <label>文章内容: </label>
            <textarea name="content" cols="30" rows="10" class="form-control" id="content">{{.topic.Content}}</textarea>
        </div>
        <div class="form-group">
            <label>文章附件: <a href="/attachment/{{.topic.Attachment}}">{{.topic.Attachment}}</a> </label>
            <input type="file" class="form-control" name="attachment">
        </div>
        <button type="submit" class="btn btn-default" onclick="return checkInput();">修改文章</button>
    </form>

    <script type="text/javascript">
        function checkInput() {
            var usname = document.getElementById("title");
            var password = document.getElementById("content");
            var category = document.getElementById("category");
            if (usname.value.length == 0) {
                alert("请输入标题");
                return false;
            }
            if (password.value.length <= 5) {
                alert("文章内容不能少于5个字");
                return false;
            }
            if (category.value.length ==0) {
                alert("请输入文章文类")
                return false
            }
            return true;
        }
    </script>
</div>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
</body>
</html>
